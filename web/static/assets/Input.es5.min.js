var Input;!function(e){var t;!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.LEFT_META=91]="LEFT_META",e[e.RIGHT_META=92]="RIGHT_META",e[e.SELECT=93]="SELECT",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.MULTIPLY=106]="MULTIPLY",e[e.ADD=107]="ADD",e[e.SUBTRACT=109]="SUBTRACT",e[e.DECIMAL=110]="DECIMAL",e[e.DIVIDE=111]="DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUM_LOCK=144]="NUM_LOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.SEMICOLON=186]="SEMICOLON",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.DASH=189]="DASH",e[e.PERIOD=190]="PERIOD",e[e.FORWARD_SLASH=191]="FORWARD_SLASH",e[e.GRAVE_ACCENT=192]="GRAVE_ACCENT",e[e.OPEN_BRACKET=219]="OPEN_BRACKET",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.CLOSE_BRACKET=221]="CLOSE_BRACKET",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE"}(t||(t={}));var s;!function(e){e[e.BUTTON_A=0]="BUTTON_A",e[e.BUTTON_B=1]="BUTTON_B",e[e.BUTTON_X=2]="BUTTON_X",e[e.BUTTON_Y=3]="BUTTON_Y",e[e.LEFT_BUTTON=4]="LEFT_BUTTON",e[e.RIGHT_BUTTON=5]="RIGHT_BUTTON",e[e.LEFT_TRIGGER=6]="LEFT_TRIGGER",e[e.RIGHT_TRIGGER=7]="RIGHT_TRIGGER",e[e.SELECT=8]="SELECT",e[e.START=9]="START",e[e.LEFT_STICK=10]="LEFT_STICK",e[e.RIGHT_STICK=11]="RIGHT_STICK",e[e.DPAD_UP=12]="DPAD_UP",e[e.DPAD_DOWN=13]="DPAD_DOWN",e[e.DPAD_LEFT=14]="DPAD_LEFT",e[e.DPAD_RIGHT=15]="DPAD_RIGHT",e[e.SUPER=16]="SUPER"}(s||(s={}));var n;!function(e){e[e.LEFT_X=0]="LEFT_X",e[e.LEFT_Y=1]="LEFT_Y",e[e.RIGHT_X=2]="RIGHT_X",e[e.RIGHT_Y=3]="RIGHT_Y"}(n||(n={}));var i=function(){function e(e,t,s){this.touchDomObject=s,this.isDown=!1,this.isUp=!0,this.press=void 0,this.release=void 0,this.value=0,this.gamepadIndex=t,this.button=e;var n=e;if(n.hasOwnProperty("key")){var i=this;this.key=new o(n.key),this.key.press=function(){i.isDown=!0,i.isUp=!1,i.value=this.value,i.press()},this.key.release=function(){i.isDown=!1,i.isUp=!0,i.value=this.value,i.release()}}if(n.hasOwnProperty("axes")||n.hasOwnProperty("pad")){this.gamepad=new r({button:n.pad,axes:n.axes},this.gamepadIndex);var h=this;this.gamepad.press=function(){h.isDown=!0,h.isUp=!1,h.value=this.value,h.press()},this.gamepad.release=function(){h.isDown=!1,h.isUp=!0,h.value=this.value,h.release()}}if(n.hasOwnProperty("mouse")&&console.error("Mouse input class has not been made yet. Fork or report issue at http://github.com/Noedel-Man/Input/"),null!=this.touchDomObject){this.touch=new a(this.touchDomObject);var E=this;this.touch.press=function(){E.isDown=!0,E.isUp=!1,E.value=this.value,E.press()},this.touch.release=function(){E.isDown=!1,E.isUp=!0,E.value=this.value,E.release()}}}return e}();e.Input=i;var o=function(){function e(e){this.keyDown=[],this.isDown=!1,this.isUp=!0,this.press=void 0,this.release=void 0,this.value=0,this.key=e;for(var s=0;s<this.key.length;s++)this.key[s]=t[this.key[s]];this.eventHandelers()}return e.prototype.eventHandelers=function(){var e=this;window.addEventListener("keydown",function(t){e.downHandler(t)}),window.addEventListener("keyup",function(t){e.upHandler(t)})},e.prototype.downHandler=function(e){this.key.indexOf(e.keyCode)>=0&&(this.value=1,this.isUp&&this.press&&this.press(),this.keyDown.indexOf(e.keyCode)<0&&this.keyDown.push(e.keyCode),this.isDown=!0,this.isUp=!1),e.preventDefault()},e.prototype.upHandler=function(e){this.keyDown.splice(this.keyDown.indexOf(e.keyCode),1),this.key.indexOf(e.keyCode)>=0&&0===this.keyDown.length&&(this.value=0,this.isDown&&this.release&&this.release(),this.isDown=!1,this.isUp=!0),e.preventDefault()},e}(),r=function(){function e(e,t){var s=e.button,n=e.axes,i=this;this.gamepadIndex=t,this._dead=.15,this.isDown=!1,this.isUp=!0,this.press=void 0,this.release=void 0,this.handeler=function(){i.value?i.downHandler():i.upHandler(),requestAnimationFrame(i.handeler)};var i=this;this.button=s,this.axes=n,this.connect&&this.handeler(),window.addEventListener("gamepadconnected",function(e){i.connect&&i.handeler()})}return Object.defineProperty(e.prototype,"dead",{get:function(){return this._dead},set:function(e){this._dead=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gamepad",{get:function(){return navigator.getGamepads()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){for(var e=0,t=0;t<this.gamepad.length;t++)this.gamepad[t]&&e++;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axesValue",{get:function(){var e=this.gamepad[this.gamepadIndex].buttons;if(e[6].pressed===!0||e[7].pressed===!0)return this.buttonValue;if(this.axes)for(var t=0;t<this.axes.length;t++){var s=this.gamepad[this.gamepadIndex].axes[n[this.axes[t]]];if(s)return s}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buttonValue",{get:function(){if(this.button)for(var e=0;e<this.button.length;e++){var t=this.gamepad[this.gamepadIndex].buttons[s[this.button[e]]].value;if(t)return t}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAxesDown",{get:function(){var e=this.gamepad[this.gamepadIndex].buttons;return this.axesValue>this.dead||this.axesValue<-this.dead||e[6].pressed===!0||e[7].pressed===!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isButtonDown",{get:function(){return!!this.buttonValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.isAxesDown?this.axesValue:this.isButtonDown?this.buttonValue:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connect",{get:function(){if(0===this.length)console.warn("No gamepads connected!");else{if(this.gamepad[this.gamepadIndex])return!0;console.error("Gamepad %d is not connected!",this.gamepadIndex)}return!1},enumerable:!0,configurable:!0}),e.prototype.downHandler=function(){(this.isUp&&this.press||this.isAxesDown)&&(this.press(),this.isDown=!0,this.isUp=!1)},e.prototype.upHandler=function(){this.isDown&&this.release&&(this.release(),this.isDown=!1,this.isUp=!0)},e}(),a=function(){function e(e){this.touchDomObject=e,this.isDown=!1,this.isUp=!0,this.press=void 0,this.release=void 0,this.handeler()}return e.prototype.handeler=function(){var e=this;this.touchDomObject.addEventListener("mousedown",function(){e.downHandler()}),this.touchDomObject.addEventListener("mouseup",function(){e.upHandler()}),this.touchDomObject.addEventListener("touchstart",function(){e.downHandler()}),this.touchDomObject.addEventListener("ontouchend",function(){e.upHandler()})},e.prototype.downHandler=function(){this.value=1,this.isUp&&this.press&&this.press(),this.isDown=!0,this.isUp=!1},e.prototype.upHandler=function(){this.value=0,this.isDown&&this.release&&this.release(),this.isDown=!1,this.isUp=!0},e}()}(Input||(Input={}));